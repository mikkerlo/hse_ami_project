[//]: (Описание системы грейдера)

# Модель данных для проекта AMI

## Вспомогательные сущности
### Email

| Название поля |      Тип поля      |                Комментарий                |
| ------------- | ------------------ | ----------------------------------------- |
| `address`     | `String`           | Полный валидный адрес электронной почты   |
| `type`        | `Enum(CROP, HOME)` | `CORP` -- корпоративный, `HOME` -- личный |

### Name

|   Название поля   | Тип поля | Комментарий |
| ----------------- | -------- | ----------- |
| `first_name`      | `String` | Имя         |
| `last_name`       | `String` | Фамилия     |
| `patronimyc_name` | `String` | Отчество    |


## Основные сущности

### Student

Сущность, описывающая студента. 

|   Название поля    |    Тип поля     |               Комментарий               |
| ------------------ | --------------- | --------------------------------------- |
| `id`*              | `Uint64`        | Идентификатор -- уникальное поле.       |
| `date_of_birth`    | `Datetime`      | День рождения                           |
| `name`             | `Name`          | ФИО                                     |
| `emails`           | `Array<Email>`  | Список электронных адресов пользователя |
| `telegram_account` | `String`        | Логин пользователя в telegram           |
| `role`             | `Enum(REGULAR)` |                                         |

### Teacher

Сущность преподавателя. В первой версии проекта данная сущность не будет иметь возможности логиниться.

|   Название поля    |          Тип поля          |               Комментарий               |
| ------------------ | -------------------------- | --------------------------------------- |
| `id`*              | `Uint64`                   | Идентификатор -- уникальное поле.       |
| `type`             | `Enum(TEACHER, ASSISTANT)` |                                         |
| `date_of_birth`    | `Datetime`                 | День рождения                           |
| `name`             | `Name`                     | ФИО                                     |
| `emails`           | `Array<Email>`             | Список электронных адресов пользователя |
| `telegram_account` | `String`                   | Логин пользователя в telegram           |


### Group

| Название поля | Тип поля |                Комментарий                 |
| ------------- | -------- | ------------------------------------------ |
| `id`*         | `Uint64` | Идентификатор -- уникальное поле           |
| `full_name`   | `String` | Полное название группы                     |
| `short_name`  | `String` | Короткое название -- показывается в поиске |
| `description` | `String` | Описание группы                            |
| `is_hidden`   | `Boolean` | Видна ли группа в основном списке         |


### File

| Название поля | Тип поля |                 Комментарий                  |
| ------------- | -------- | -------------------------------------------- |
| `id`*         | `Uint64` | Идентификатор -- уникальное поле             |
| `url`         | `String` | URL путь до файла в формате `/api/file/<id>` |
| `name`        | `String` | Название файла                               |

### Material

| Название поля |  Тип поля  |                    Комментарий                    |
| ------------- | ---------- | ------------------------------------------------- |
| `id`*         | `Uint64`   | Идентификатор -- уникальное поле                  |
| `group_id`    | `Uint64`   | Идентификатор группы, к которой привязан материал |
| `created_at`  | `Datetime` | Время создания материала                          |
| `header`      | `String`   | Заголовок материала                               |
| `content`     | `String`   | Содержание материала                              |


### Hometask

| Название поля |  Тип поля  |                                Комментарий                                |
| ------------- | ---------- | ------------------------------------------------------------------------- |
| `id`*         | `Uint64`   | Идентификатор -- уникальное поле                                          |
| `group_id`    | `Uint64`   | Идентификатор группы, к которой привязана домашка                         |
| `created_at`  | `Datetime` | Время создания материала                                                  |
| `header`      | `String`   | Заголовок материала                                                       |
| `content`     | `String`   | Содержание материала                                                      |
| `valid_until` | `Datetime` | Момент времени, до которого домашка является актуальной, например дедлайн |

### Notify

| Название поля |  Тип поля  |                    Комментарий                    |
| ------------- | ---------- | ------------------------------------------------- |
| `id`*         | `Uint64`   | Идентификатор -- уникальное поле                  |
| `group_id`    | `Uint64`   | Идентификатор группы, к которой привязано уведомление |
| `created_at`  | `Datetime` | Время создания материала                          |
| `header`      | `String`   | Заголовок материала                               |
| `content`     | `String`   | Содержание материала                              |


### Student jar

| Название поля | Тип поля |           Комментарий            |
| ------------- | -------- | -------------------------------- |
| `id`*         | `Uint64` | Идентификатор -- уникальное поле |
| `name`        | `String` | Название группы                  |




### Mark

| Название поля | Тип поля |           Комментарий            |
| ------------- | -------- | -------------------------------- |
| `id`*         | `Uint64` | Идентификатор -- уникальное поле |
| `student_id`  | `Uint64` |                                  |
| `value`       | `Int8`   |                                  |



## Таблицы

`students_to_groups`

| Название поля | Тип поля | Комментарий |
| ------------- | -------- | ----------- |
| `student_id`  | `Uint64` |             |
| `group_id`    | `Uint64` |             |


`teachers_to_group` 

| Название поля | Тип поля | Комментарий |
| ------------- | -------- | ----------- |
| `group_id`    | `Uint64` |             |
| `teacher_id`  | `Uint64` |             |


`record_to_file`

| Название поля | Тип поля | Комментарий |
| ------------- | -------- | ----------- |
| `record_id`   | `Uint64` |             |
| `file_id`     | `Uint64` |             |


`student_to_jar`

| Название поля | Тип поля | Комментарий |
| ------------- | -------- | ----------- |
| `student_id`  | `Uint64` |             |
| `jar_id`      | `Uint64` |             |

## Permissions

В системе есть роль Студент. Любой студент может создать группу. В созданной группе он сразу становится Владельцем и Модератором. Модератор может манипулировать Домашками, Материалами, Уведомлениями. Студент-Владелец может дать права Модератора любому студенту своей группы. Студент владелец может передать право владения группой любому студенту этой группы. Студент, являющийся Владельцем группы, может выйти из группы, тогда ему предложат передать право владения группы другому студенту.

## Features
1. Добавлять студентов списком, разбор скопированной информации





